import { deleteCommunity } from "../../services/communities";
import displayError from "../../utils/error-toaster";


type Props = {
  setEditCommunityDisplay: React.Dispatch<React.SetStateAction<boolean>>;
  setInviteUserDisplay: React.Dispatch<React.SetStateAction<boolean>>;
  setRows?: React.Dispatch<React.SetStateAction<Row[]>>;
  id: string
  large?: boolean;
}

const EditButtons = ({setEditCommunityDisplay, setInviteUserDisplay, setRows, id, large} : Props) => {

  const handleDeleteCommunity = async () => {
    try {
      await deleteCommunity(id);
      // Handle when we have these buttons in the datagrid
      if (setRows) setRows((prevRows) => prevRows.filter((row) => row.id !== id));
    } catch (error) {
      displayError(error);
    }
  }

  if (large) return (
    <div className='flex gap-4 items-center w-full h-full'>
            
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={() => {setEditCommunityDisplay(true)}}>
              <svg width="16" height="16" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_96_1930)">
              <path d="M19.9268 8.07055C20.5978 8.83153 20.9675 9.80899 20.9675 10.8239V14.9869C20.9675 17.2823 19.1 19.1498 16.8045 19.1498H5.1483C2.85285 19.1498 0.985352 17.2823 0.985352 14.9869V10.8239C0.985352 8.52847 2.85285 6.66097 5.1483 6.66097H8.47865C8.93907 6.66097 9.31124 7.03397 9.31124 7.49356C9.31124 7.95315 8.93907 8.32615 8.47865 8.32615H5.1483C3.77119 8.32615 2.65053 9.44682 2.65053 10.8239V14.9869C2.65053 16.364 3.77119 17.4846 5.1483 17.4846H16.8045C18.1816 17.4846 19.3023 16.364 19.3023 14.9869V10.8239C19.3023 10.2153 19.08 9.62832 18.6779 9.17206C18.374 8.82737 18.4064 8.30117 18.752 7.99645C19.0958 7.69338 19.622 7.72585 19.9268 8.07055ZM5.1483 12.9054C5.1483 13.5948 5.7078 14.1543 6.39718 14.1543C7.08656 14.1543 7.64606 13.5948 7.64606 12.9054C7.64606 12.216 7.08656 11.6565 6.39718 11.6565C5.7078 11.6565 5.1483 12.216 5.1483 12.9054ZM10.5601 14.1543C11.2495 14.1543 11.809 13.5948 11.809 12.9054C11.809 12.216 11.2495 11.6565 10.5601 11.6565C9.87074 11.6565 9.31124 12.216 9.31124 12.9054C9.31124 13.5948 9.87074 14.1543 10.5601 14.1543ZM10.9764 9.15874V7.83825C10.9764 6.94905 11.3228 6.1123 11.9522 5.48369L16.7038 0.732107C17.6779 -0.242022 19.2615 -0.242022 20.2356 0.732107C20.7069 1.20335 20.9675 1.83112 20.9675 2.49803C20.9675 3.16493 20.7069 3.7927 20.2356 4.26478L15.4841 9.01637C14.8555 9.64497 14.0187 9.99216 13.1295 9.99216H11.809C11.3486 9.99216 10.9764 9.61916 10.9764 9.15957V9.15874ZM12.6416 8.32615H13.1295C13.5741 8.32615 13.9921 8.15297 14.3068 7.83825L19.0584 3.08667C19.2157 2.92931 19.3023 2.72033 19.3023 2.49803C19.3023 2.27573 19.2157 2.06675 19.0584 1.90939C18.7328 1.58385 18.2066 1.58468 17.8811 1.90939L13.1295 6.66097C12.8198 6.97153 12.6416 7.40031 12.6416 7.83825V8.32615Z" fill="#00338D"/>
              </g>
              <defs>
              <clipPath id="clip0_96_1930">
              <rect width="19.9821" height="19.9821" fill="white" transform="translate(0.985352 1.52588e-05)"/>
              </clipPath>
              </defs>
              </svg>
            </button>
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={handleDeleteCommunity}>
              <svg width="16" height="16" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_96_1932)">
              <path d="M17.6112 3.34824H15.0302C14.8369 2.40859 14.3256 1.56429 13.5825 0.957641C12.8394 0.350994 11.9098 0.0190943 10.9505 0.0178833L9.28529 0.0178833C8.32598 0.0190943 7.39641 0.350994 6.65327 0.957641C5.91013 1.56429 5.39885 2.40859 5.20561 3.34824H2.62458C2.40376 3.34824 2.19199 3.43596 2.03585 3.5921C1.87971 3.74824 1.79199 3.96001 1.79199 4.18083C1.79199 4.40164 1.87971 4.61342 2.03585 4.76956C2.19199 4.9257 2.40376 5.01342 2.62458 5.01342H3.45717V15.8371C3.45849 16.9408 3.89751 17.9988 4.67793 18.7793C5.45835 19.5597 6.51644 19.9987 7.62012 20H12.6156C13.7193 19.9987 14.7774 19.5597 15.5578 18.7793C16.3383 17.9988 16.7773 16.9408 16.7786 15.8371V5.01342H17.6112C17.832 5.01342 18.0438 4.9257 18.1999 4.76956C18.3561 4.61342 18.4438 4.40164 18.4438 4.18083C18.4438 3.96001 18.3561 3.74824 18.1999 3.5921C18.0438 3.43596 17.832 3.34824 17.6112 3.34824ZM9.28529 1.68306H10.9505C11.4669 1.68369 11.9705 1.84406 12.3922 2.14219C12.8139 2.44031 13.133 2.86158 13.3059 3.34824H6.9299C7.10273 2.86158 7.42188 2.44031 7.84357 2.14219C8.26527 1.84406 8.76886 1.68369 9.28529 1.68306ZM15.1134 15.8371C15.1134 16.4995 14.8503 17.1348 14.3818 17.6033C13.9134 18.0717 13.2781 18.3348 12.6156 18.3348H7.62012C6.95767 18.3348 6.32235 18.0717 5.85393 17.6033C5.38551 17.1348 5.12235 16.4995 5.12235 15.8371V5.01342H15.1134V15.8371Z" fill="#00338D"/>
              <path d="M8.45271 15.0045C8.67352 15.0045 8.88529 14.9168 9.04144 14.7606C9.19758 14.6045 9.2853 14.3927 9.2853 14.1719V9.17637C9.2853 8.95555 9.19758 8.74378 9.04144 8.58764C8.88529 8.4315 8.67352 8.34378 8.45271 8.34378C8.23189 8.34378 8.02012 8.4315 7.86398 8.58764C7.70784 8.74378 7.62012 8.95555 7.62012 9.17637V14.1719C7.62012 14.3927 7.70784 14.6045 7.86398 14.7606C8.02012 14.9168 8.23189 15.0045 8.45271 15.0045Z" fill="#00338D"/>
              <path d="M11.7828 15.0043C12.0036 15.0043 12.2154 14.9166 12.3715 14.7604C12.5277 14.6043 12.6154 14.3925 12.6154 14.1717V9.17616C12.6154 8.95534 12.5277 8.74357 12.3715 8.58743C12.2154 8.43129 12.0036 8.34357 11.7828 8.34357C11.562 8.34357 11.3502 8.43129 11.1941 8.58743C11.0379 8.74357 10.9502 8.95534 10.9502 9.17616V14.1717C10.9502 14.3925 11.0379 14.6043 11.1941 14.7604C11.3502 14.9166 11.562 15.0043 11.7828 15.0043Z" fill="#00338D"/>
              </g>
              <defs>
              <clipPath id="clip0_96_1932">
              <rect width="19.9821" height="19.9821" fill="white" transform="translate(0.126953 0.0178833)"/>
              </clipPath>
              </defs>
              </svg>
            </button>
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={() => {setInviteUserDisplay(true)}}>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.1903 8.68842C13.6393 8.90291 14.0601 9.19611 14.432 9.56802C16.1893 11.3254 16.1893 14.1746 14.432 15.932L9.93198 20.432C8.17462 22.1893 5.32538 22.1893 3.56802 20.432C1.81066 18.6746 1.81066 15.8254 3.56802 14.068L5.32499 12.311M18.675 11.689L20.432 9.93198C22.1893 8.17462 22.1893 5.32538 20.432 3.56802C18.6746 1.81066 15.8254 1.81066 14.068 3.56802L9.56802 8.06802C7.81066 9.82538 7.81066 12.6746 9.56802 14.432C9.93992 14.8039 10.3607 15.0971 10.8097 15.3116" stroke="#00338D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            </button>



          </div>
  )



  return (
    <div className='flex gap-1 items-center w-full h-full'>
            
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={() => {setEditCommunityDisplay(true)}}>
              <svg width="16" height="16" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_96_1930)">
              <path d="M19.9268 8.07055C20.5978 8.83153 20.9675 9.80899 20.9675 10.8239V14.9869C20.9675 17.2823 19.1 19.1498 16.8045 19.1498H5.1483C2.85285 19.1498 0.985352 17.2823 0.985352 14.9869V10.8239C0.985352 8.52847 2.85285 6.66097 5.1483 6.66097H8.47865C8.93907 6.66097 9.31124 7.03397 9.31124 7.49356C9.31124 7.95315 8.93907 8.32615 8.47865 8.32615H5.1483C3.77119 8.32615 2.65053 9.44682 2.65053 10.8239V14.9869C2.65053 16.364 3.77119 17.4846 5.1483 17.4846H16.8045C18.1816 17.4846 19.3023 16.364 19.3023 14.9869V10.8239C19.3023 10.2153 19.08 9.62832 18.6779 9.17206C18.374 8.82737 18.4064 8.30117 18.752 7.99645C19.0958 7.69338 19.622 7.72585 19.9268 8.07055ZM5.1483 12.9054C5.1483 13.5948 5.7078 14.1543 6.39718 14.1543C7.08656 14.1543 7.64606 13.5948 7.64606 12.9054C7.64606 12.216 7.08656 11.6565 6.39718 11.6565C5.7078 11.6565 5.1483 12.216 5.1483 12.9054ZM10.5601 14.1543C11.2495 14.1543 11.809 13.5948 11.809 12.9054C11.809 12.216 11.2495 11.6565 10.5601 11.6565C9.87074 11.6565 9.31124 12.216 9.31124 12.9054C9.31124 13.5948 9.87074 14.1543 10.5601 14.1543ZM10.9764 9.15874V7.83825C10.9764 6.94905 11.3228 6.1123 11.9522 5.48369L16.7038 0.732107C17.6779 -0.242022 19.2615 -0.242022 20.2356 0.732107C20.7069 1.20335 20.9675 1.83112 20.9675 2.49803C20.9675 3.16493 20.7069 3.7927 20.2356 4.26478L15.4841 9.01637C14.8555 9.64497 14.0187 9.99216 13.1295 9.99216H11.809C11.3486 9.99216 10.9764 9.61916 10.9764 9.15957V9.15874ZM12.6416 8.32615H13.1295C13.5741 8.32615 13.9921 8.15297 14.3068 7.83825L19.0584 3.08667C19.2157 2.92931 19.3023 2.72033 19.3023 2.49803C19.3023 2.27573 19.2157 2.06675 19.0584 1.90939C18.7328 1.58385 18.2066 1.58468 17.8811 1.90939L13.1295 6.66097C12.8198 6.97153 12.6416 7.40031 12.6416 7.83825V8.32615Z" fill="#00338D"/>
              </g>
              <defs>
              <clipPath id="clip0_96_1930">
              <rect width="19.9821" height="19.9821" fill="white" transform="translate(0.985352 1.52588e-05)"/>
              </clipPath>
              </defs>
              </svg>
            </button>
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={handleDeleteCommunity}>
              <svg width="16" height="16" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_96_1932)">
              <path d="M17.6112 3.34824H15.0302C14.8369 2.40859 14.3256 1.56429 13.5825 0.957641C12.8394 0.350994 11.9098 0.0190943 10.9505 0.0178833L9.28529 0.0178833C8.32598 0.0190943 7.39641 0.350994 6.65327 0.957641C5.91013 1.56429 5.39885 2.40859 5.20561 3.34824H2.62458C2.40376 3.34824 2.19199 3.43596 2.03585 3.5921C1.87971 3.74824 1.79199 3.96001 1.79199 4.18083C1.79199 4.40164 1.87971 4.61342 2.03585 4.76956C2.19199 4.9257 2.40376 5.01342 2.62458 5.01342H3.45717V15.8371C3.45849 16.9408 3.89751 17.9988 4.67793 18.7793C5.45835 19.5597 6.51644 19.9987 7.62012 20H12.6156C13.7193 19.9987 14.7774 19.5597 15.5578 18.7793C16.3383 17.9988 16.7773 16.9408 16.7786 15.8371V5.01342H17.6112C17.832 5.01342 18.0438 4.9257 18.1999 4.76956C18.3561 4.61342 18.4438 4.40164 18.4438 4.18083C18.4438 3.96001 18.3561 3.74824 18.1999 3.5921C18.0438 3.43596 17.832 3.34824 17.6112 3.34824ZM9.28529 1.68306H10.9505C11.4669 1.68369 11.9705 1.84406 12.3922 2.14219C12.8139 2.44031 13.133 2.86158 13.3059 3.34824H6.9299C7.10273 2.86158 7.42188 2.44031 7.84357 2.14219C8.26527 1.84406 8.76886 1.68369 9.28529 1.68306ZM15.1134 15.8371C15.1134 16.4995 14.8503 17.1348 14.3818 17.6033C13.9134 18.0717 13.2781 18.3348 12.6156 18.3348H7.62012C6.95767 18.3348 6.32235 18.0717 5.85393 17.6033C5.38551 17.1348 5.12235 16.4995 5.12235 15.8371V5.01342H15.1134V15.8371Z" fill="#00338D"/>
              <path d="M8.45271 15.0045C8.67352 15.0045 8.88529 14.9168 9.04144 14.7606C9.19758 14.6045 9.2853 14.3927 9.2853 14.1719V9.17637C9.2853 8.95555 9.19758 8.74378 9.04144 8.58764C8.88529 8.4315 8.67352 8.34378 8.45271 8.34378C8.23189 8.34378 8.02012 8.4315 7.86398 8.58764C7.70784 8.74378 7.62012 8.95555 7.62012 9.17637V14.1719C7.62012 14.3927 7.70784 14.6045 7.86398 14.7606C8.02012 14.9168 8.23189 15.0045 8.45271 15.0045Z" fill="#00338D"/>
              <path d="M11.7828 15.0043C12.0036 15.0043 12.2154 14.9166 12.3715 14.7604C12.5277 14.6043 12.6154 14.3925 12.6154 14.1717V9.17616C12.6154 8.95534 12.5277 8.74357 12.3715 8.58743C12.2154 8.43129 12.0036 8.34357 11.7828 8.34357C11.562 8.34357 11.3502 8.43129 11.1941 8.58743C11.0379 8.74357 10.9502 8.95534 10.9502 9.17616V14.1717C10.9502 14.3925 11.0379 14.6043 11.1941 14.7604C11.3502 14.9166 11.562 15.0043 11.7828 15.0043Z" fill="#00338D"/>
              </g>
              <defs>
              <clipPath id="clip0_96_1932">
              <rect width="19.9821" height="19.9821" fill="white" transform="translate(0.126953 0.0178833)"/>
              </clipPath>
              </defs>
              </svg>
            </button>
            <button className='text-blue-500 flex items-center cursor-pointer' onClick={() => {setInviteUserDisplay(true)}}>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.1903 8.68842C13.6393 8.90291 14.0601 9.19611 14.432 9.56802C16.1893 11.3254 16.1893 14.1746 14.432 15.932L9.93198 20.432C8.17462 22.1893 5.32538 22.1893 3.56802 20.432C1.81066 18.6746 1.81066 15.8254 3.56802 14.068L5.32499 12.311M18.675 11.689L20.432 9.93198C22.1893 8.17462 22.1893 5.32538 20.432 3.56802C18.6746 1.81066 15.8254 1.81066 14.068 3.56802L9.56802 8.06802C7.81066 9.82538 7.81066 12.6746 9.56802 14.432C9.93992 14.8039 10.3607 15.0971 10.8097 15.3116" stroke="#00338D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            </button>



          </div>
  )
}

export default EditButtons